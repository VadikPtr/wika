@using WikaApp.Auth
@inherits LayoutComponentBase

<main>
  <div class="container pt-2">
    @if (http_context.is_authenticated())
    {
      <div class="d-flex flex-row align-items-center">
        <h1 class="flex-grow-1"><a href="/">Wika</a></h1>
        <img class="rounded me-2" src="@http_context.get_picture()" alt="picture" width="32" height="32"/>
        @http_context.get_name()&nbsp;/&nbsp;
        <a href="/users">Users</a>&nbsp;/&nbsp;
        <a href="/auth/logout">Logout</a>
      </div>
    }
    @Body
  </div>
</main>

<div id="blazor-error-ui">
  An unhandled error has occurred.
  <a href="" class="reload">Reload</a>
  <a class="dismiss">🗙</a>
</div>

@code {
  [CascadingParameter] public HttpContext http_context { get; set; } = null!;
}